{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/ImagePopup.js","utils/api.js","utils/constants.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","onClick","onCardClick","name","type","onCardLike","length","onCardDelete","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","item","Footer","PopupWithForm","isOpen","noValidate","autoComplete","onSubmit","title","children","button","onClose","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","required","minLength","maxLength","onChange","target","value","ImagePopup","api","document","querySelector","baseUrl","token","groupId","this","_url","_token","_groupId","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_checkRes","user","method","body","JSON","stringify","cardId","EditAvatarPopup","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","all","getUserInfo","getInitialCards","userData","catch","err","console","log","Provider","toogleLike","newCard","state","c","deleteCard","filter","info","setUserInfo","addCard","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7e61ac59.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.03b78ada.svg\";","import logo from '../images/header-logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Место\" />\n    </header>\n  )\n}\n\nexport default Header;","import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","import React from \"react\";\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `element__delete-button ${isOwn ? 'element__delete-button_visible' : 'element__delete-button_hidden'}`\n  );\n  \n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `element__like-button ${isLiked ? 'element__like-button_active' : 'element__like-button_inactive'}`\n  ); \n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <article className=\"element\">\n      <div className=\"element__image\" style={{ backgroundImage: `url(${props.card.link})` }} onClick={handleClick}></div>\n      <div className=\"element__bottom\">\n        <h2 className=\"element__caption\">{props.card.name}</h2>\n        <div className=\"element__like-container\">\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n          <span className=\"element__likes-count\">{props.card.likes.length}</span>\n        </div>\n      </div>\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\n    </article>\n  )\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__main\">\n          <div className=\"profile__avatar\">\n            <div className=\"profile__avatar-img\" style={{ backgroundImage: `url(${currentUser.avatar})` }}></div>\n            <div className=\"profile__edit-avatar\" onClick={props.onEditAvatar}></div>\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__name-container\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\n            </div>\n            <p className=\"profile__about\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\n      </section>\n\n      <section className=\"elements\">\n        {props.cards.map(item => (\n          <Card key={item._id} card={item} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\n        ))}\n      </section>\n    </main>\n  )\n}\n\nexport default Main;","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2021 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;","function PopupWithForm(props) {\n  return (\n    <div className={`popup popup_${props.name} ` + (props.isOpen ? \"popup_opened\" : \"\")}>\n      <form className=\"popup__container\" name={`${props.name}-form`} noValidate autoComplete=\"off\" onSubmit={props.onSubmit}>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        {props.children}\n        <button className=\"popup__submit-button\" type=\"submit\">{props.button}</button>\n        <button className=\"popup__close-button\" type=\"reset\" onClick={props.onClose}></button>\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from \"react\";\nimport PopupWithForm from './PopupWithForm';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]); \n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} button=\"Сохранить\" onSubmit={handleSubmit}>\n      <section className=\"popup__field\">\n        <input className=\"popup__input popup__input_name\" type=\"text\" name=\"name\" id=\"userName-input\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" onChange={handleNameChange} value={name || ''} />\n        <span className=\"popup__input-error\" id=\"userName-input-error\"></span>\n      </section>\n      <section className=\"popup__field\">\n        <input className=\"popup__input popup__input_about\" type=\"text\" name=\"about\" id=\"userAbout-input\" placeholder=\"О себе\" required minLength=\"2\" maxLength=\"200\" onChange={handleDescriptionChange} value={description || ''} />\n        <span className=\"popup__input-error\" id=\"userAbout-input-error\"></span>\n      </section>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;","function ImagePopup(props) {\n  return (\n    <div className={`popup popup_pic ${props.isOpen ? \"popup_opened\" : \"\"}`}>\n      <figure className=\"popup__figure\">\n        <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\n          <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\n          <button className=\"popup__close-button\" type=\"reset\" onClick={props.onClose}></button>\n    </figure>\n  </div>\n  )\n}\n\nexport default ImagePopup;","import { apiConfig } from \"./constants\";\n\nclass Api {\n  constructor({ baseUrl, token, groupId }) {\n    this._url = baseUrl;\n    this._token = token;\n    this._groupId = groupId;\n  }\n\n  _checkRes(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/${this._groupId}/users/me`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._checkRes);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/${this._groupId}/cards`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._checkRes);\n  }\n\n  setUserInfo(user) {\n    return fetch(`${this._url}/${this._groupId}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: user.name,\n        about: user.about,\n      }),\n    }).then(this._checkRes);\n  }\n\n  addCard(card) {\n    return fetch(`${this._url}/${this._groupId}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: card.name,\n        link: card.link,\n      }),\n    }).then(this._checkRes);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}/${this._groupId}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._checkRes);\n  }\n\n  toogleLike(cardId, status) {\n    return fetch(`${this._url}/${this._groupId}/cards/likes/${cardId}`, {\n      method: status ? \"DELETE\" : \"PUT\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._checkRes);\n  }\n\n  updateAvatar(avatar) {\n    return fetch(`${this._url}/${this._groupId}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(avatar),\n    }).then(this._checkRes);\n  }\n}\n\nconst api = new Api(apiConfig);\n\nexport default api;","export const validatorConfig = {\n  formSelector: \".popup__container\",\n  inputSelector: \".popup__input\",\n  submitButtonSelector: \".popup__submit-button\",\n  inputErrorClass: \"popup__input_no-valid\",\n  errorClass: \"popup__input-error_active\",\n};\n\nexport const apiConfig = {\n  baseUrl: \"https://mesto.nomoreparties.co/v1\",\n  token: \"b8b224d2-63d9-411f-917f-a9b5efe62b74\",\n  groupId: \"cohort-22\",\n};\n\nexport const popupProfileSelector = document.querySelector(\".popup_profile\");\nexport const editButton = document.querySelector(\".profile__edit-button\");\nexport const nameInput = document.querySelector(\".popup__input_name\");\nexport const aboutInput = document.querySelector(\".popup__input_about\");\n\nexport const popupPlaceSelector = document.querySelector(\".popup_place\");\nexport const addButton = document.querySelector(\".profile__add-button\");\n\nexport const popupAvatarSelector = document.querySelector(\".popup_avatar\");\nexport const editAvatar = document.querySelector(\".profile__edit-avatar\");\n","import React from \"react\";\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatar = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n  \n    props.onUpdateAvatar({\n      avatar: avatar.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} button=\"Обновить\" onSubmit={handleSubmit} >\n      <section className=\"popup__field\">\n        <input className=\"popup__input popup__input_avatar\" type=\"url\" name=\"avatar\" id=\"userAvatar-input\" placeholder=\"Ссылка на картинку\" required ref={avatar} />\n        <span className=\"popup__input-error\" id=\"userAvatar-input-error\"></span>\n      </section>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  React.useEffect(() => {\n    setName('');\n    setLink('');\n  }, [props.isOpen]); \n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name,\n      link,\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"place\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} button=\"Создать\" onSubmit={handleSubmit}>\n      <section className=\"popup__field\">\n        <input className=\"popup__input popup__input_title\" type=\"text\" name=\"name\" id=\"cardName-input\" placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\" onChange={handleNameChange} value={name} />\n        <span className=\"popup__input-error\" id=\"cardName-input-error\"></span>\n      </section>\n      <section className=\"popup__field\">\n        <input className=\"popup__input popup__input_link\" type=\"url\" name=\"link\" id=\"cardLink-input\" placeholder=\"Ссылка на картинку\" required onChange={handleLinkChange} value={link} />\n        <span className=\"popup__input-error\" id=\"cardLink-input-error\"></span>\n      </section>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","import React from \"react\";\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userData, cards]) => {\n        setCurrentUser(userData);\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.toogleLike(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleUpdateUser(info) {\n    api.setUserInfo(info)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.updateAvatar(avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api.addCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__content\">\n\n          <Header />\n          <Main onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\n          <Footer />\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n          <PopupWithForm name=\"confirm\" title=\"Вы уверены?\" button=\"Да\" />\n          <ImagePopup isOpen={isImagePopupOpen} onClose={closeAllPopups} card={selectedCard} />\n\n        </div>\n      </div >\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}