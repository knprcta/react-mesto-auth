{"ast":null,"code":"import _slicedToArray from\"/Users/knprcta/Study/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import PopupWithForm from'./PopupWithForm';import CurrentUserContext from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];var currentUser=React.useContext(CurrentUserContext);React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser]);function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();props.onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:props.isOpen,onClose:props.onClose,button:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"section\",{className:\"popup__field\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_name\",type:\"text\",name:\"name\",id:\"userName-input\",placeholder:\"\\u0418\\u043C\\u044F\",required:true,minLength:\"2\",maxLength:\"40\",onChange:handleNameChange,value:name||''}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error\",id:\"userName-input-error\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"popup__field\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_about\",type:\"text\",name:\"about\",id:\"userAbout-input\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",required:true,minLength:\"2\",maxLength:\"200\",onChange:handleDescriptionChange,value:description||''}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error\",id:\"userAbout-input-error\"})]})]});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/knprcta/Study/dev/mesto-react/src/components/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","props","useState","name","setName","description","setDescription","currentUser","useContext","useEffect","about","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","preventDefault","onUpdateUser","isOpen","onClose"],"mappings":"uHAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,gCAA/B,C,wFAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAC/B,oBAAwBJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCP,KAAK,CAACK,QAAN,CAAe,EAAf,CAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBAEA,GAAMC,CAAAA,WAAW,CAAGV,KAAK,CAACW,UAAN,CAAiBT,kBAAjB,CAApB,CAEAF,KAAK,CAACY,SAAN,CAAgB,UAAM,CACpBL,OAAO,CAACG,WAAW,CAACJ,IAAb,CAAP,CACAG,cAAc,CAACC,WAAW,CAACG,KAAb,CAAd,CACD,CAHD,CAGG,CAACH,WAAD,CAHH,EAKA,QAASI,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CAC3BR,OAAO,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAED,QAASC,CAAAA,uBAAT,CAAiCH,CAAjC,CAAoC,CAClCN,cAAc,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACD,CAED,QAASE,CAAAA,YAAT,CAAsBJ,CAAtB,CAAyB,CACvBA,CAAC,CAACK,cAAF,GAEAhB,KAAK,CAACiB,YAAN,CAAmB,CACjBf,IAAI,CAAJA,IADiB,CAEjBO,KAAK,CAAEL,WAFU,CAAnB,EAID,CAED,mBACE,MAAC,aAAD,EAAe,IAAI,CAAC,SAApB,CAA8B,KAAK,CAAC,2HAApC,CAA4D,MAAM,CAAEJ,KAAK,CAACkB,MAA1E,CAAkF,OAAO,CAAElB,KAAK,CAACmB,OAAjG,CAA0G,MAAM,CAAC,wDAAjH,CAA6H,QAAQ,CAAEJ,YAAvI,wBACE,iBAAS,SAAS,CAAC,cAAnB,wBACE,cAAO,SAAS,CAAC,gCAAjB,CAAkD,IAAI,CAAC,MAAvD,CAA8D,IAAI,CAAC,MAAnE,CAA0E,EAAE,CAAC,gBAA7E,CAA8F,WAAW,CAAC,oBAA1G,CAAgH,QAAQ,KAAxH,CAAyH,SAAS,CAAC,GAAnI,CAAuI,SAAS,CAAC,IAAjJ,CAAsJ,QAAQ,CAAEL,gBAAhK,CAAkL,KAAK,CAAER,IAAI,EAAI,EAAjM,EADF,cAEE,aAAM,SAAS,CAAC,oBAAhB,CAAqC,EAAE,CAAC,sBAAxC,EAFF,GADF,cAKE,iBAAS,SAAS,CAAC,cAAnB,wBACE,cAAO,SAAS,CAAC,iCAAjB,CAAmD,IAAI,CAAC,MAAxD,CAA+D,IAAI,CAAC,OAApE,CAA4E,EAAE,CAAC,iBAA/E,CAAiG,WAAW,CAAC,iCAA7G,CAAsH,QAAQ,KAA9H,CAA+H,SAAS,CAAC,GAAzI,CAA6I,SAAS,CAAC,KAAvJ,CAA6J,QAAQ,CAAEY,uBAAvK,CAAgM,KAAK,CAAEV,WAAW,EAAI,EAAtN,EADF,cAEE,aAAM,SAAS,CAAC,oBAAhB,CAAqC,EAAE,CAAC,uBAAxC,EAFF,GALF,GADF,CAYD,CAED,cAAeL,CAAAA,gBAAf","sourcesContent":["import React from \"react\";\nimport PopupWithForm from './PopupWithForm';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]); \n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} button=\"Сохранить\" onSubmit={handleSubmit}>\n      <section className=\"popup__field\">\n        <input className=\"popup__input popup__input_name\" type=\"text\" name=\"name\" id=\"userName-input\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" onChange={handleNameChange} value={name || ''} />\n        <span className=\"popup__input-error\" id=\"userName-input-error\"></span>\n      </section>\n      <section className=\"popup__field\">\n        <input className=\"popup__input popup__input_about\" type=\"text\" name=\"about\" id=\"userAbout-input\" placeholder=\"О себе\" required minLength=\"2\" maxLength=\"200\" onChange={handleDescriptionChange} value={description || ''} />\n        <span className=\"popup__input-error\" id=\"userAbout-input-error\"></span>\n      </section>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}